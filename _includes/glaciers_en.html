<p>
    The <b><a href="https://climateactiontracker.org/global/cat-thermometer/">
    current policy prediction</a></b> estimates global warming until 2100 at <b>2.7°C</b>,
    far above the <b><a href="https://unfccc.int/process-and-meetings/the-paris-agreement">
    Paris Agreement</a></b> goal of limiting warming to <b>1.5°C</b>.
</p>


<div class="tab-container" id="container1">
    <!-- Tab buttons -->
    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'Video1', 'container1')">2.7°C</button>
        <button class="tab-button" onclick="openTab(event, 'Video2', 'container1')">1.5°C</button>
        <button class="tab-button" onclick="openTab(event, 'Video3', 'container1')">1.5°C vs. 2.7°C</button>
    </div>

    <!-- Tab content -->
    <div id="Video1" class="tab-content" style="max-width: 500px;">
        <video autoplay loop muted playsinline controls>
            <source src="{{ page.animation_27 }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <div id="Video2" class="tab-content" style="max-width: 500px; display: none;">
        <video autoplay loop muted playsinline controls>
            <source src="{{ page.animation_15 }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <div id="Video3" class="tab-content" style="display: none;">
        <video autoplay loop muted playsinline controls>
            <source src="{{ page.animation_both }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <i>Tip: Rotate your phone and go fullscreen for the best experience.</i>
    </div>
</div>
<br>

<p>
    {{ page.title }} had an estimated volume of {{ page.vol2020_km3 }} km³ in
    2020 and is expected to
    {% assign deglac_year_2_7deg = page.deglac_yr_2_7deg_10perc_e-2km3_q50 | plus: 0 %}
    {% if deglac_year_2_7deg > 0 %}
        be mostly gone by
        {{ page.deglac_yr_2_7deg_10perc_e-2km3_q50 | floor }}
        (<a href="{{ site.baseurl }}/methods/#likely-range">likely range</a>:
        {{ page.deglac_yr_2_7deg_10perc_e-2km3_q17 | floor }} -
        {% assign deglac_year_2_7deg_q83 = page.deglac_yr_2_7deg_10perc_e-2km3_q83 | plus: 0 %}
        {% if deglac_year_2_7deg_q83 > 0 %}
            {{ page.deglac_yr_2_7deg_10perc_e-2km3_q83 | floor }}
        {% else %}
            after 2100
        {% endif %})
    {% else %}
        retain {{ page.2100_perc_2_7deg_q50 | floor }}% of this volume in 2100
        (<a href="{{ site.baseurl }}/methods/#likely-range">likely range</a>:
        {{ page.2100_perc_2_7deg_q17 | floor }}% –
        {{ page.2100_perc_2_7deg_q83 | floor }}%)
    {% endif %}

    under 2.7°C global warming
    (<a href="https://climateactiontracker.org/global/cat-thermometer/">current policy prediction</a>).
    We define <b>'mostly gone'</b> as the year when either less than 10% of the
    glacier's 2020 volume or less than 0.01 km³ is expected to remain - whichever
    threshold is crossed first.<br><br>

    <!--Comment: only show the "years later" sentence if it deglaciates at 1.5°C   -->
    If global warming is limited to 1.5°C
    (<a href="https://unfccc.int/process-and-meetings/the-paris-agreement">Paris Agreement</a>),
    <!-- If deglac_yr_1_5deg_10perc_e-2km3_q50 is greater than 0, show the full sentence -->
    {% assign deglac_year = page.deglac_yr_1_5deg_10perc_e-2km3_q50 | plus: 0 %}
    {% if deglac_year > 0 %}
        {{ page.title }} will be mostly gone by {{ deglac_year | floor }}
        ({{ deglac_year | floor | minus: page.deglac_yr_2_7deg_10perc_e-2km3_q50 | default: 0 | floor }}
        years later than under 2.7°C).
        By 2100, {{ page["2100_perc_1_5deg_q50"] | floor }}% of the 2020 volume
        is expected to remain
        ({{ page["2100_perc_1_5deg_q50"] | floor | minus: page["2100_perc_2_7deg_q50"] | floor }}%
        more compared to 2.7°C).
    {% else %}
        <!-- If deglac_yr_1_5deg_10perc_e-2km3_q50 is missing or 0, show just the 2100 volume difference -->
        by 2100, {{ page["2100_perc_1_5deg_q50"] | floor }}% of the 2020 volume
        is expected to remain
        ({{ page["2100_perc_1_5deg_q50"] | floor | minus: page["2100_perc_2_7deg_q50"] | floor }}%
        more compared to 2.7°C).
    {% endif %}
</p>

<p>
<div style="border: 2px solid #000; padding: 10px; background-color: #f9f9f9; width: fit-content;">
<strong>Every 0.1°C avoided saves glaciers and limits impacts!</strong>
</div>
</p>

<div class="tab-container" id="container2">
    <!-- Tab buttons -->
    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'Volume1', 'container2')">2.7°C</button>
        <button class="tab-button" onclick="openTab(event, 'Volume2', 'container2')">1.5°C and 2.7°C</button>
    </div>

    <!-- Tab content -->
    <div id="Volume1" class="tab-content"
         style="max-width: 800px; outline: 2px solid #e1e1e1;">
      <figure style="text-align: center; margin: 0;">
        <img src="{{ site.baseurl }}{{ page.volume_evolution_simple | replace: 'en', site.lang  }}" alt="Volume evolution of {{ page.title }} for 2.7°C." style="width:100%; padding:0;"/>
        <figcaption style="font-size: 14px; color: #555; margin-top: -20px;">
            Showing the volume evolution of {{ page.title }} for a global warming
            level of 2.7°C.
        </figcaption>
      </figure>
    </div>
    <div id="Volume2" class="tab-content"
         style="max-width: 800px; display: none; outline: 2px solid #e1e1e1;">
      <figure style="text-align: center; margin: 0;">
        <img src="{{ site.baseurl }}{{ page.volume_evolution_complex | replace: 'en', site.lang }}" alt="Volume complex of {{ page.title }}." />
      <figcaption style="font-size: 14px; color: #555; margin-top: -20px;">
          Showing the volume evolution of {{ page.title }} for global warming
          levels of 1.5°C and 2.7°C.
      </figcaption>
    </div>
</div>
<br>

<h3 id="methods">Global Projections</h3>
<p>
    The projections for Central Europe are not promising, even under 1.5°C
    warming. However, there are regions worldwide with a much larger potential
    for saving glacier ice. Visit the
    <a href="{{ site.baseurl }}/regions/">"Regions" page</a> to explore other
    areas around the globe and visit the
    <a href="{{ site.baseurl }}/preserve/">"How to preserve" page</a> to get active.
</p>

<h3 id="methods">Methods</h3>
<p>
    If you're curious about how this animation and the figures were created,
    visit the <a href="{{ site.baseurl }}/methods/">Methods</a> page.
</p>

{% comment %}
{% if page.signposts %}
  <h3 id="featured-glaciers">Featured Signposts</h3>
  <ul>
    {% for signpost_featured in page.signposts %}
        {% for signpost in site.signposts %}
          {% if signpost_featured == signpost.signpost_id %}
            <li>
              <a href="{{ signpost.url }}">{{ signpost.title }}</a>, {{ signpost.location_description }}
            </li>
          {% endif %}
        {% endfor %}
    {% endfor %}
  </ul>
{% endif %}
{% endcomment %}

<h3 id="photo-gallery">Photo Gallery</h3>
{% assign gallery = page.gallery %}
{% include custom-gallery.html gallery=gallery %}

<script>
    function openTab(event, tabId, containerId) {
        // Get the container element
        const container = document.getElementById(containerId);

        // Hide all tab contents in the current container
        const tabContents = container.querySelectorAll(".tab-content");
        tabContents.forEach((content) => {
            content.style.display = "none"; // Hide all tab contents
        });

        // Remove active class from all tab buttons in the current container
        const tabButtons = container.querySelectorAll(".tab-button");
        tabButtons.forEach((button) => {
            button.classList.remove("active"); // Remove active state
        });

        // Show the selected tab content and set the active button
        container.querySelector(`#${tabId}`).style.display = "block"; // Show current tab content
        event.currentTarget.classList.add("active"); // Highlight active button
    }

    // Initialize each tab container on page load
    document.addEventListener("DOMContentLoaded", () => {
        const tabContainers = document.querySelectorAll(".tab-container");

        tabContainers.forEach((container) => {
            const defaultTabButton = container.querySelector(".tab-button.active");
            if (defaultTabButton) {
                const defaultTabId = defaultTabButton.getAttribute("onclick").split("'")[1];
                container.querySelector(`#${defaultTabId}`).style.display = "block"; // Show default tab
            }
        });
    });
</script>
